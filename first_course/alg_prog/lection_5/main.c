#include <stdlib.h> // Для использования malloc и free

// Функция для печати элементов массива
void printArray(int *arr, int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]); // Печать каждого элемента массива
    }
    printf("\n");
}

int main() {
    // 1. Объявление и инициализация массива
    int arr[5] = {1, 2, 3, 4, 5}; // Массив из 5 целых чисел

    // 2. Доступ к элементам массива
    int x = arr[2]; // x = 3 (третий элемент массива)
    printf("Элемент arr[2]: %d\n", x);

    // 3. Объявление и инициализация указателя
    int *ptr; // Указатель на целое число
    ptr = arr; // Указатель указывает на первый элемент массива

    // 4. Доступ к элементам массива через указатель
    int y = *(ptr + 2); // y = 3 (доступ к третьему элементу через указатель)
    printf("Элемент через указатель: %d\n", y);

    // 5. Передача массива в функцию
    printArray(arr, 5); // Вызов функции для печати массива

    // 6. Динамическое выделение памяти
    int *dynamicArr = (int *)malloc(5 * sizeof(int)); // Выделение памяти для массива из 5 целых чисел
    if (dynamicArr == NULL) {
        printf("Ошибка выделения памяти\n");
        return 1; // Завершение программы в случае ошибки
    }

    // Инициализация динамического массива
    for (int i = 0; i < 5; i++) {
        dynamicArr[i] = i + 1; // Заполнение массива значениями 1, 2, 3, 4, 5
    }

    // Печать динамического массива
    printArray(dynamicArr, 5);

    // 7. Освобождение выделенной памяти
    free(dynamicArr); // Освобождение памяти, выделенной для динамического массива

    return 0; // Завершение программы
}
